/* public/css/style.css
   Visual upgrade + support for layer-lines following stars
*/

/* Variables */
:root{
  --bg-900: #03030a;
  --accent: #78a6ff;
  --glass-1: rgba(255,255,255,0.04);
  --glass-2: rgba(255,255,255,0.02);
  --muted: rgba(220,225,255,0.72);
  --text: #f6fbff;
  --shadow: rgba(2,6,12,0.7);
  --card-radius: 16px;
  --max-width: 1160px;
}

/* Reset */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background:var(--bg-900);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  overflow-x:hidden;
}

/* Nebula layers */
.nebula{
  position:fixed; inset:0; z-index:-5; pointer-events:none;
  background-repeat:no-repeat; background-size:cover;
  mix-blend-mode: screen; opacity:0.34; transform: translateZ(0);
}
.nebula--layer1{
  background:
    radial-gradient(40% 30% at 12% 22%, rgba(90,130,255,0.18), transparent 14%),
    radial-gradient(30% 25% at 78% 66%, rgba(140,60,255,0.12), transparent 14%);
  animation: neb1 36s linear infinite;
}
.nebula--layer2{
  background:
    radial-gradient(50% 40% at 62% 28%, rgba(255,150,120,0.05), transparent 16%),
    radial-gradient(22% 20% at 22% 80%, rgba(120,200,255,0.03), transparent 12%);
  animation: neb2 52s linear infinite;
}
@keyframes neb1{ from{transform:translate3d(0,0,0)} to{transform:translate3d(-60px,24px,0)} }
@keyframes neb2{ from{transform:translate3d(0,0,0)} to{transform:translate3d(40px,-28px,0)} }

/* Starfield canvas */
#starfield{ position:fixed; inset:0; z-index:-4; pointer-events:none; }

/* Hero */
.hero{ padding:58px 18px 6px; text-align:center; position:relative; z-index:2; }
.hero-inner{ max-width:var(--max-width); margin:0 auto; }
.title{
  font-family: "Cinzel Decorative", serif;
  font-weight:900;
  margin:0;
  color:var(--text);
  letter-spacing:6px;
  line-height:0.95;
  font-size:clamp(36px,6.6vw,88px);
  text-shadow:
    0 8px 24px rgba(0,0,0,0.8),
    0 2px 8px rgba(120,150,255,0.04);
  transform-origin:center;
  animation: titleEntrance 900ms ease-out both;
}
@keyframes titleEntrance {
  from { opacity:0; transform: translateY(-8px) scale(0.98); filter: blur(1.4px); }
  to   { opacity:1; transform: translateY(0) scale(1); filter: blur(0); }
}
.subtitle{
  margin-top:10px;
  color:var(--muted);
  font-family: "Cormorant Garamond", serif;
  font-size:clamp(12px,1.4vw,18px);
  letter-spacing:1px;
}

/* Container & Grid */
.container{ max-width:var(--max-width); margin:36px auto; padding:0 18px; z-index:2; position:relative; }
.grid{ display:grid; grid-template-columns: repeat(2, 1fr); gap:28px; align-items:stretch; }

/* Card */
.card{
  background: linear-gradient(180deg, var(--glass-1), var(--glass-2));
  border-radius: var(--card-radius);
  border: 1px solid rgba(255,255,255,0.03);
  box-shadow: 0 12px 40px var(--shadow);
  overflow: hidden;
  transition: transform .36s cubic-bezier(.2,.9,.2,1), box-shadow .36s, filter .36s;
  cursor: pointer;
  display:flex; flex-direction:column; justify-content:space-between;
  min-height:340px;
  position:relative;
  outline: none;
}
.card:focus { box-shadow: 0 24px 70px rgba(60,120,220,0.12); transform: translateY(-6px); }
.card:hover { transform: translateY(-12px) scale(1.01); box-shadow: 0 30px 100px rgba(0,0,0,0.78); filter: saturate(1.05); }

/* Media area */
.card-media{
  position:relative; width:100%; height:260px; border-radius:12px; overflow:hidden;
  margin:20px auto 8px; max-width:94%; background: linear-gradient(180deg, rgba(6,8,12,0.35), rgba(2,3,5,0.45));
}
.card-media img{ display:block; width:100%; height:100%; object-fit:cover; }

/* background layer */
.card-media .layer-bg{
  position:absolute; inset:0; width:100%; height:100%; object-fit:cover; z-index:1;
  filter: contrast(1.02) saturate(1.05) brightness(0.88);
  transform-origin:center; transition: transform 900ms cubic-bezier(.2,.9,.2,1);
}

/* stars layer */
.card-media .layer-stars{
  position:absolute; inset:0; width:100%; height:100%; object-fit:contain; z-index:2; pointer-events:none;
  mix-blend-mode: screen; filter: drop-shadow(0 10px 30px rgba(120,160,255,0.06));
  transform-origin:center; transition: transform 900ms cubic-bezier(.2,.9,.2,1);
}

/* lines layer - conecta as estrelas */
.card-media .layer-lines{
  position:absolute; inset:0; width:100%; height:100%; object-fit:contain; z-index:3; pointer-events:none;
  mix-blend-mode: screen; /* troque para 'normal' se quiser lines mais fortes */
  opacity:0.98;
  filter: drop-shadow(0 8px 22px rgba(80,120,200,0.06));
  transform-origin:center; transition: transform 900ms cubic-bezier(.2,.9,.2,1), opacity .25s;
}

/* glow overlay */
.card-media .glow{
  position:absolute; inset:0; z-index:4; pointer-events:none;
  background: radial-gradient(40% 30% at 40% 30%, rgba(110,168,255,0.05), transparent 22%);
  mix-blend-mode: screen;
}

/* Card text */
.card-content{ padding:12px 22px 20px; text-align:center; z-index:5; }
.card-title{
  font-family: "Cormorant Garamond", serif;
  font-weight:600;
  margin:8px 0 6px;
  font-size:20px;
  letter-spacing:1px;
  color:var(--text);
}
.card-sub{
  font-family: "Inter", sans-serif;
  color:var(--muted);
  margin:0;
  font-size:13px;
}

/* Hover micro-parallax */
.card:hover .layer-bg{ transform: scale(1.06) translateY(-6px); }
.card:hover .layer-stars{ transform: scale(1.02) translateY(-2px); }
.card:hover .layer-lines{ transform: scale(1.02) translateY(-2px); }

/* subtle stars pulse */
@keyframes starPulse {
  0% { filter: drop-shadow(0 8px 18px rgba(120,160,255,0.04)); transform: scale(1); }
  50% { filter: drop-shadow(0 12px 34px rgba(120,180,255,0.08)); transform: scale(1.01); }
  100% { filter: drop-shadow(0 8px 18px rgba(120,160,255,0.04)); transform: scale(1); }
}
.card-media .layer-stars { animation: starPulse 6.8s ease-in-out infinite; }

/* float animation (aplica-se às stars e às lines para se moverem juntos) */
@keyframes floatStars {
  0%   { transform: translateY(-2px) scale(1); }
  50%  { transform: translateY(3px) scale(1.015); }
  100% { transform: translateY(-2px) scale(1); }
}
.card-media .layer-stars { animation: floatStars 4.0s ease-in-out infinite; }
.card-media .layer-lines { animation: floatStars 4.0s ease-in-out infinite; }

/* Overlay / detail panel */
.overlay{ position:fixed; inset:0; display:none; justify-content:center; align-items:center; z-index:999; background: rgba(2,6,10,0.72); backdrop-filter: blur(6px); }
.overlay.open{ display:flex; }
.detail-panel{ width:min(980px,94%); max-height:90vh; overflow:auto; background: linear-gradient(180deg, rgba(6,8,10,0.98), rgba(2,4,6,0.98)); border-radius:12px; padding:20px; box-shadow:0 30px 100px rgba(0,0,0,0.6); transform-origin:center; opacity:0; transform: translateY(8px) scale(.996); transition: opacity .28s, transform .36s; }
.detail-panel.show{ opacity:1; transform: translateY(0) scale(1); }
.detail-grid{ display:grid; grid-template-columns:1fr 1fr; gap:18px; }
@media(max-width:820px){ .grid{ grid-template-columns:1fr } .card-media{ height:200px } }

/* Small screens */
@media(max-width:520px){
  .title{ font-size: clamp(28px,10vw,56px); letter-spacing:3px; }
  .grid{ gap:18px; margin:18px auto; }
  .card-media{ height:180px; }
  .card{ min-height:300px; }
}
