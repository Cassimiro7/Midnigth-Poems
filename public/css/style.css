/* public/css/style.css
   Céu único + constelações soltas + efeitos de background + distorções
*/

/* Variables */
:root{
  --bg-900: #03030a;
  --text: #f6fbff;
  --muted: rgba(220,225,255,0.72);
  --accent: #78a6ff;
  --card-radius: 12px;
  --max-width: 1160px;
}

/* Reset */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background:var(--bg-900);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  overflow:hidden;
}

/* Sky background (fixed layered images) */
.sky{
  position:fixed;
  inset:0;
  z-index:-6;
  overflow:hidden;
  pointer-events:none;
}
/* base: a cor / textura mais escura */
.bg-base{
  position:absolute; inset:0; width:100%; height:100%; object-fit:cover;
  z-index:-6;
  filter:brightness(0.45) saturate(0.95) contrast(0.95);
  transform-origin:center;
  transition: transform 420ms ease-out;
}
/* cosmo: nuvens/cores - vamos movimentar isto para parallax */
.bg-cosmo{
  position:absolute; inset:0; width:110%; height:110%; object-fit:cover;
  z-index:-5; mix-blend-mode:screen; opacity:0.62;
  filter: blur(0.6px) saturate(1.05);
  transform-origin:center;
  transition: transform 420ms ease-out;
}
/* stars: fraco layer de estrelas grandes */
.bg-stars{
  position:absolute; inset:0; width:105%; height:105%; object-fit:cover;
  z-index:-4; mix-blend-mode:lighten; opacity:0.9; transform-origin:center;
  transition: transform 420ms ease-out, opacity 420ms;
}

/* Starfield canvas sits above background layers */
#starfield{ position:fixed; inset:0; z-index:-3; pointer-events:none; }

/* Header */
.hero{ padding:36px 18px 10px; text-align:center; z-index:2; position:relative; }
.title{
  font-family: "Cinzel Decorative", serif;
  font-weight:900;
  margin:0;
  color:var(--text);
  letter-spacing:6px;
  font-size:clamp(34px,6vw,82px);
  text-shadow: 0 6px 22px rgba(0,0,0,0.6);
}
.subtitle{
  margin-top:8px;
  color:var(--muted);
  font-family: "Cormorant Garamond", serif;
  font-size:clamp(12px,1.4vw,16px);
}

/* Sky container (onde constelações flutuam) */
.sky-container{
  position:relative;
  width:100%;
  height:calc(100vh - 180px);
  margin-top:20px;
  z-index:1;
  pointer-events:auto;
}

/* Constellation button (absolute placed) */
.constellation{
  --size: clamp(120px, 14vw, 220px);
  position:absolute;
  width: var(--size);
  height: var(--size);
  border: none;
  background: transparent;
  padding:0;
  border-radius: 12px;
  cursor: pointer;
  transform-origin:center;
  transition: transform 320ms cubic-bezier(.2,.9,.3,1), filter 320ms;
  display:flex;
  align-items:flex-end;
  justify-content:center;
  user-select:none;
  -webkit-tap-highlight-color: transparent;
  outline: none;
}

/* focus acessível */
.constellation:focus { box-shadow: 0 10px 36px rgba(120,160,255,0.14); transform: translateY(-6px) scale(1.03); }

/* inside media */
.constel-media{
  position:absolute; inset:0; display:block; overflow:visible; pointer-events:none;
}
.constel-media img{
  position:absolute; left:0; top:0; width:100%; height:100%; object-fit:contain;
  transform-origin:center;
  transition: transform 900ms cubic-bezier(.2,.9,.2,1), opacity 360ms;
  pointer-events:none;
  -webkit-user-drag: none;
}

/* stars and lines */
.layer-stars{ z-index:1; mix-blend-mode:screen; filter: drop-shadow(0 8px 30px rgba(120,150,255,0.06)) saturate(1.05) contrast(1.02); opacity:0.98; }
.layer-lines{ z-index:2; mix-blend-mode:screen; opacity:0.98; filter: drop-shadow(0 8px 22px rgba(80,120,200,0.06)); }

/* hover effect */
.constellation:hover{ transform: translateY(-8px) scale(1.06); z-index:40; }
.constellation:hover .layer-stars{ transform: scale(1.03) translateY(-4px); }
.constellation:hover .layer-lines{ transform: scale(1.03) translateY(-4px); }

/* subtle float animation */
@keyframes floatSlow {
  0% { transform: translateY(-2px) }
  50% { transform: translateY(4px) }
  100% { transform: translateY(-2px) }
}

/* Overlay / detail panel */
.overlay{ position:fixed; inset:0; display:none; justify-content:center; align-items:center; z-index:9999; background: rgba(2,6,10,0.72); backdrop-filter: blur(6px); }
.overlay.open{ display:flex; }
.detail-panel{ width:min(980px,94%); max-height:90vh; overflow:auto; background: linear-gradient(180deg, rgba(6,8,10,0.98), rgba(2,4,6,0.98)); border-radius:12px; padding:20px; box-shadow:0 30px 100px rgba(0,0,0,0.6); transform-origin:center; opacity:0; transform: translateY(8px) scale(.996); transition: opacity .28s, transform .36s; }
.detail-panel.show{ opacity:1; transform: translateY(0) scale(1); }
.detail-grid{ display:grid; grid-template-columns:1fr 1fr; gap:18px; }
@media(max-width:820px){ .detail-grid{ grid-template-columns:1fr } }

/* mobile adjustments */
@media(max-width:720px){
  .constellation{ --size: clamp(90px, 24vw, 140px); }
  .sky-container{ height: calc(100vh - 140px); }
}
